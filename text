@Test
void testFindAllByPageable_withValidParams() {
    // Arrange
    int pageNumber = 1;
    int recordsPerPage = 10;
    String sortBy = "lastName";
    int sortOrder = 1;              // controller expects int
    String searchBy = "lastName";   // single String
    String searchInput = "Doe";     // single String

    Pageable expectedPageable =
            PageRequest.of(0, 10, Sort.by(Sort.Direction.ASC, "uiLastName")); // lastName -> uiLastName

    UserListResponse expectedResponse = new UserListResponse();

    // âœ… use userListService (matches controller) instead of userService
    when(userListService.getAllUsers(expectedPageable, searchBy, searchInput))
            .thenReturn(expectedResponse);

    // Act
    UserListResponse result = userRolesController.getUsers(
            pageNumber,
            recordsPerPage,
            sortBy,
            sortOrder,
            searchBy,
            searchInput
    );

    // Assert
    assertNotNull(result);
    assertSame(expectedResponse, result);
    verify(userListService, times(1))
            .getAllUsers(expectedPageable, searchBy, searchInput);
}
