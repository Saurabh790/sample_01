@Query("""
SELECT j FROM JobMasterT j
WHERE LOWER(j.jobLuStatusT.statusDesc)   LIKE :jobSt
  AND LOWER(j.prmStudyMasterT.pbName)    LIKE :studyNm
  AND LOWER(j.createUiUserBase.userFullName) LIKE :createdBy
  AND LOWER(function('to_char', j.createUiUserBase.uiUserId)) = LOWER(:userId)
""")
List<JobMasterT> getMyJobsBySearchCriteria(
    @Param("jobSt") String jobSt,
    @Param("studyNm") String studyNm,
    @Param("createdBy") String createdBy,
    @Param("userId") String userId,
    Pageable pageRequest
);



@Query("""
SELECT j FROM JobMasterT j
WHERE LOWER(j.jobLuStatusT.statusDesc)   LIKE :jobSt
  AND LOWER(j.prmStudyMasterT.pbName)    LIKE :studyNm
  AND LOWER(j.createUiUserBase.userFullName) LIKE :createdBy
  AND j.jobId = :jobId
  AND LOWER(function('to_char', j.createUiUserBase.uiUserId)) = LOWER(:userId)
""")
List<JobMasterT> getMyJobsBySearchCriteriaWithJobId(
    @Param("jobSt") String jobSt,
    @Param("studyNm") String studyNm,
    @Param("createdBy") String createdBy,
    @Param("userId") String userId,
    @Param("jobId") Integer jobId,
    Pageable pageRequest
);
