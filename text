{"timestamp":"2025-11-22T13:19:24.3422152Z","level":"TRACE","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Trying to match request against DefaultSecurityFilterChain [RequestMatcher=any request, Filters=[org.springframework.security.web.session.DisableEncodeUrlFilter@6a907765, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@57dcf976, org.springframework.security.web.context.SecurityContextHolderFilter@7bd44868, org.springframework.security.web.header.HeaderWriterFilter@72df13c3, org.springframework.security.web.csrf.CsrfFilter@623e8e88, org.springframework.security.web.authentication.logout.LogoutFilter@41db1728, org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter@1d1b458e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@371c8e30, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76fc0fa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@afef67, org.springframework.security.web.session.SessionManagementFilter@4d0f96ac, org.springframework.security.web.access.ExceptionTranslationFilter@31b280af, org.springframework.security.web.access.intercept.AuthorizationFilter@26b3f25b]] (1/1)","exception":""}
{"timestamp":"2025-11-22T13:19:24.3431941Z","level":"DEBUG","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Securing GET /getbehaviorpatterns/","exception":""}
{"timestamp":"2025-11-22T13:19:24.344195Z","level":"TRACE","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Invoking DisableEncodeUrlFilter (1/13)","exception":""}
{"timestamp":"2025-11-22T13:19:24.344195Z","level":"TRACE","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Invoking WebAsyncManagerIntegrationFilter (2/13)","exception":""}
{"timestamp":"2025-11-22T13:19:24.3451991Z","level":"TRACE","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Invoking SecurityContextHolderFilter (3/13)","exception":""}
{"timestamp":"2025-11-22T13:19:24.3451991Z","level":"TRACE","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Invoking HeaderWriterFilter (4/13)","exception":""}
{"timestamp":"2025-11-22T13:19:24.3451991Z","level":"TRACE","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Invoking CsrfFilter (5/13)","exception":""}
{"timestamp":"2025-11-22T13:19:24.3461937Z","level":"TRACE","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Invoking LogoutFilter (6/13)","exception":""}
{"timestamp":"2025-11-22T13:19:24.3461937Z","level":"TRACE","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Invoking BearerTokenAuthenticationFilter (7/13)","exception":""}
{"timestamp":"2025-11-22T13:19:24.347196Z","level":"DEBUG","thread":"http-nio-8080-exec-9","logger":"com.optum.fads.pgp.behavior.api.config.UserJwtAuthenticationConverter","message":"Converting JWT to Authentication. Claims = {sub=MDK5Ed7CRGLhdNTkVO8wbS5dzYuNYn_rH3GPaTX3w_U, xms_tcdt=1641925527, aio=AZQAa/8aAAAA4wcdAxmirESp+1wVOoXrSmXwHprAau1HieoW+1v7DfwstCSK7cVeQUaIgB9SVanJXCwp/AkZ5EotJvnhnUAGdBDCQJAO+mnbwO3HdoEk61gSStN0adlnZcU3D6ghdF70jWWdf5ffXbRYcwO5TWRn1RvDr3CxLWGy9F9+8XpnlaqOZoktdq1gOrW7pFGUyP/l, amr=[pwd, mfa], iss=https://sts.windows.net/fbe00597-ca09-441a-836a-eb0dcb7c14e1/, app_displayname=aep-osgp-platform, oid=59552667-cde1-49b7-8a40-f81259d2a8e1, platf=3, xms_act_fct=9 3, xms_acd=1759145739, acrs=[p1], tid=fbe00597-ca09-441a-836a-eb0dcb7c14e1, xms_idrel=24 1, sid=00ab14f9-7798-12c4-2dd8-847272640c96, acr=1, puid=100320049E8FC495, wids=[b79fbf4d-3ef9-4689-8143-76b194e85509], xms_ftd=GJfrLgp3z6-v7KvWf7i2MisuKDeYTxVvBVPloS-6SYoBdXN3ZXN0My1kc21z, xms_st={sub=xaOC7fNNL1_lU1V64sMs4AbU2-BmZiYbUDmhuALLfAI}, exp=2025-11-22T13:18:41Z, ipaddr=168.183.135.5, xms_sub_fct=3 2, iat=2025-11-22T12:04:29Z, scp=Application.Read.All User.Read.All User.ReadBasic.All profile openid email, ver=1.0, idtyp=user, uti=3JynRyRnVkCnLsf0CUcPAA, given_name=Sourabh, xms_tnt_fct=3 4, aud=[00000003-0000-0000-c000-000000000000], tenant_region_scope=NA, unique_name=sgupt679@optumsgs.onmicrosoft.com, upn=sgupt679@optumsgs.onmicrosoft.com, nbf=2025-11-22T12:04:29Z, appidacr=1, rh=1.AUYAlwXg-wnKGkSDausNy3wU4QMAAAAAAAAAwAAAAAAAAACAAEdGAA., appid=f2b9bd65-7f5e-41d3-917f-a666f51f8d29, name=Gupta, Sourabh, family_name=Gupta, acct=0}","exception":""}
{"timestamp":"2025-11-22T13:19:24.3481919Z","level":"DEBUG","thread":"http-nio-8080-exec-9","logger":"com.optum.fads.pgp.behavior.api.config.UserJwtAuthenticationConverter","message":"Resolved username from JWT = 'sgupt679@optumsgs.onmicrosoft.com'","exception":""}
{"timestamp":"2025-11-22T13:19:24.3502186Z","level":"DEBUG","thread":"http-nio-8080-exec-9","logger":"com.optum.fads.pgp.behavior.api.service.impl.UserDetailsService","message":"Loading user by username/email 'sgupt679@optumsgs.onmicrosoft.com'","exception":""}
{"timestamp":"2025-11-22T13:19:24.3542224Z","level":"DEBUG","thread":"http-nio-8080-exec-9","logger":"com.optum.fads.pgp.behavior.api.service.impl.UserDetailsService","message":"No user found by email 'sgupt679@optumsgs.onmicrosoft.com', trying userId lookup...","exception":""}
{"timestamp":"2025-11-22T13:19:24.3651943Z","level":"DEBUG","thread":"http-nio-8080-exec-9","logger":"com.optum.fads.pgp.behavior.api.service.impl.UserDetailsService","message":"Found user in DB: uiUserId=sgupt679@optumsgs.onmicrosoft.com, uiSystemId=SA987838, email=sgupt679@optum.com","exception":""}
{"timestamp":"2025-11-22T13:19:24.3713377Z","level":"DEBUG","thread":"http-nio-8080-exec-9","logger":"com.optum.fads.pgp.behavior.api.service.impl.UserDetailsService","message":"Built AppUser 'sgupt679@optumsgs.onmicrosoft.com' with 4 access entries","exception":""}
{"timestamp":"2025-11-22T13:19:24.3738709Z","level":"DEBUG","thread":"http-nio-8080-exec-9","logger":"com.optum.fads.pgp.behavior.api.config.UserJwtAuthenticationConverter","message":"Successfully loaded user 'sgupt679@optumsgs.onmicrosoft.com' from UserDetailsService","exception":""}
{"timestamp":"2025-11-22T13:19:24.3738709Z","level":"DEBUG","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider","message":"Authenticated token","exception":""}
{"timestamp":"2025-11-22T13:19:24.3758887Z","level":"DEBUG","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter","message":"Set SecurityContextHolder to UsernamePasswordAuthenticationToken [Principal=AppUser(userId=sgupt679@optumsgs.onmicrosoft.com, userSystemId=SA987838, userEmail=sgupt679@optum.com, role=Role(id=3, roleName=PI Investigator (Legacy), allowedAccesses=[AccessLevel(moduleId=1, moduleCode=STUDY, moduleName=Build / Modify Study, access=U), AccessLevel(moduleId=2, moduleCode=JOBMONITOR, moduleName=Job Monitor, access=U), AccessLevel(moduleId=3, moduleCode=WIZARD, moduleName=SUR Wizard, access=A), AccessLevel(moduleId=4, moduleCode=HCM, moduleName=High Cost Members Parameters, access=A)])), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=null], Granted Authorities=[]]","exception":""}
{"timestamp":"2025-11-22T13:19:24.3758887Z","level":"TRACE","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Invoking RequestCacheAwareFilter (8/13)","exception":""}
{"timestamp":"2025-11-22T13:19:24.3769065Z","level":"TRACE","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Invoking SecurityContextHolderAwareRequestFilter (9/13)","exception":""}
{"timestamp":"2025-11-22T13:19:24.3769065Z","level":"TRACE","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Invoking AnonymousAuthenticationFilter (10/13)","exception":""}
{"timestamp":"2025-11-22T13:19:24.3769065Z","level":"TRACE","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Invoking SessionManagementFilter (11/13)","exception":""}
{"timestamp":"2025-11-22T13:19:24.3769065Z","level":"TRACE","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Invoking ExceptionTranslationFilter (12/13)","exception":""}
{"timestamp":"2025-11-22T13:19:24.3769065Z","level":"TRACE","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Invoking AuthorizationFilter (13/13)","exception":""}
{"timestamp":"2025-11-22T13:19:24.3769065Z","level":"DEBUG","thread":"http-nio-8080-exec-9","logger":"org.springframework.security.web.FilterChainProxy","message":"Secured GET /getbehaviorpatterns/","exception":""}
{"timestamp":"2025-11-22T13:19:24.3799333Z","level":"ERROR","thread":"http-nio-8080-exec-9","logger":"com.optum.fads.pgp.behavior.api.controller.BehaviorPatternController","message":"Exception: ","exception":""}
