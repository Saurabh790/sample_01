protected String formatLocalDate(Date date) {
    logit.info("Total Report Section records after test formatLocalDate start 12 {}", date);
    
    if (date == null) return null;

    logit.info("Date class: {}", date.getClass().getName());

    Instant instant;

    if (date instanceof java.sql.Date) {
        // Convert java.sql.Date to java.time.Instant via LocalDate
        java.sql.Date sqlDate = (java.sql.Date) date;
        instant = sqlDate.toLocalDate()
                         .atStartOfDay(ZoneId.systemDefault())
                         .toInstant();
    } else {
        // Handle normal java.util.Date
        instant = date.toInstant();
    }

    LocalDateTime ldt = LocalDateTime.ofInstant(instant, ZoneId.systemDefault());
    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(ReportSectionConstants.DATE_FORMAT_MMDDYYYY_HHMM_A, Locale.ENGLISH);

    logit.info("Formatted LocalDateTime: {}", formatter.format(ldt));
    return formatter.format(ldt);
}
