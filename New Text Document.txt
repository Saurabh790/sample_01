	






/**
	 * Example GET API request
	 *
	 * @return HTTP status OK with greeting message
	 */
	@GetMapping(value = { "/findAllByPageable/" }, headers = "Accept=application/json")
//	@ApiOperation(value = "findAllByPageable", notes = "This will provide study items based on paging, filtering and sorting .")
	public Page<Study> findAllByPageable(
			@RequestParam(name = "pageNumber", required = true, defaultValue = "1") @Min(1) Integer pageNumber,
			@RequestParam(name = "recordsPerPage", required = true, defaultValue = "10") @Min(10) Integer recordsPerPage,
			@RequestParam(name = "sortBy", required = false, defaultValue = "studyName") StudyEnum sortBy,
			@RequestParam(name = "sortOrder", required = false, defaultValue = "desc") Integer sortOrder,
			@RequestParam(value = "searchBy", required = false) List<String> searchKeys,
			@RequestParam(value = "searchInput", required = false) String searchInput) {
		Map<String, String> map = null;

		String sortValue = StudySortEnum.valueOf(sortBy.name()).value;
		if (pageNumber > 0) {
			--pageNumber;
		} else {
			pageNumber = 0;
		}

		Pageable pageable = PageRequest.of(pageNumber, recordsPerPage,
				Sort.by(Sort.Order.desc(sortValue).ignoreCase()));
		if (SortOrder.valueOf(sortOrder).toString().equalsIgnoreCase("asc")) {
			pageable = PageRequest.of(pageNumber, recordsPerPage, Sort.by(Sort.Order.asc(sortValue).ignoreCase()));
		}

		if ((searchKeys != null) && (!searchKeys.isEmpty())) {
			List<String> serchvalues = Collections.singletonList(searchInput);
			map = IntStream.range(0, searchKeys.size()).boxed()
					.collect(Collectors.toMap(i -> searchKeys.get(i), i -> serchvalues.get(i)));
		}

		return studyService.findAllStudies(map, pageable);
	}

when above code was there then some null pointer was coming while giving search option then I chnaged to below 




@GetMapping(value = { "/findAllByPageable/" }, headers = "Accept=application/json")
	public Page<Study> findAllByPageable(
	        @RequestParam(name = "pageNumber", required = true, defaultValue = "1") @Min(1) Integer pageNumber,
	        @RequestParam(name = "recordsPerPage", required = true, defaultValue = "10") @Min(10) Integer recordsPerPage,
	        @RequestParam(name = "sortBy", required = false, defaultValue = "studyName") StudyEnum sortBy,
	        @RequestParam(name = "sortOrder", required = false, defaultValue = "desc") Integer sortOrder,
	        @RequestParam(name = "searchBy", required = false) List<String> searchBy,
	        @RequestParam(name = "searchInput", required = false) List<String> searchInput
	) {
	    int pageIdx = (pageNumber != null && pageNumber > 0) ? pageNumber - 1 : 0;

	    String sortValue = StudySortEnum.valueOf(sortBy.name()).value;

	    Sort sort = (sortOrder != null && sortOrder == 1)
	            ? Sort.by(Sort.Order.asc(sortValue).ignoreCase())
	            : Sort.by(Sort.Order.desc(sortValue).ignoreCase());

	    Pageable pageable = PageRequest.of(pageIdx, recordsPerPage, sort);

	    Map<String, String> map = null;
	    if (searchBy != null && !searchBy.isEmpty() && searchInput != null && !searchInput.isEmpty()) {
	        int size = Math.min(searchBy.size(), searchInput.size());
	        map = IntStream.range(0, size)
	                .boxed()
	                .collect(Collectors.toMap(
	                        searchBy::get,
	                        searchInput::get,
	                        (a, b) -> b,                 
	                        LinkedHashMap::new));        
	    }

	    return studyService.findAllStudies(map, pageable);
	}
	
	
	
	now I am calling after filter getting below issue 
	
	
	
	5-09-10 18:55:49 [http-nio-8080-exec-2] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=AppUser(userId=sgupt664, userSystemId=SG6234283, userEmail=sourabh.gupta@optum.com, role=Role(id=0, roleName=Optum Admin, fadsRole=com.optum.fads.authorization.api.dto.FadsRole@95afe1b, pgpRole=PgpRole(groupId=0, roleName=Optum Admin, pgpAccesses=[SurAccessLevel(moduleId=1, moduleCode=STUDY, moduleName=Build / Modify Study, access=A), SurAccessLevel(moduleId=2, moduleCode=JOBMONITOR, moduleName=Job Monitor, access=A)]), caseRole=com.optum.fads.authorization.api.dto.CaseRole@1cf3f245, allowedAccesses=[AccessLevel(moduleId=1, moduleCode=STUDY, moduleName=Build / Modify Study, access=A), AccessLevel(moduleId=2, moduleCode=JOBMONITOR, moduleName=Job Monitor, access=A)])), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE5357A0359540C2A69ABD663EBCAA94], Granted Authorities=[]]]
2025-09-10 18:55:49 [http-nio-8080-exec-3] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-09-10 18:55:49 [http-nio-8080-exec-3] DEBUG o.s.web.servlet.DispatcherServlet - Completed 200 OK
2025-09-10 18:55:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Securing GET /study/findAllByPageable/?pageNumber=1&recordsPerPage=1&sortBy=studyName&sortOrder=1&searchBy=studyName&searchInput=abh
2025-09-10 18:55:54 [http-nio-8080-exec-9] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Retrieved SecurityContextImpl [Authentication=UsernamePasswordAuthenticationToken [Principal=AppUser(userId=sgupt664, userSystemId=SG6234283, userEmail=sourabh.gupta@optum.com, role=Role(id=0, roleName=Optum Admin, fadsRole=com.optum.fads.authorization.api.dto.FadsRole@95afe1b, pgpRole=PgpRole(groupId=0, roleName=Optum Admin, pgpAccesses=[SurAccessLevel(moduleId=1, moduleCode=STUDY, moduleName=Build / Modify Study, access=A), SurAccessLevel(moduleId=2, moduleCode=JOBMONITOR, moduleName=Job Monitor, access=A)]), caseRole=com.optum.fads.authorization.api.dto.CaseRole@1cf3f245, allowedAccesses=[AccessLevel(moduleId=1, moduleCode=STUDY, moduleName=Build / Modify Study, access=A), AccessLevel(moduleId=2, moduleCode=JOBMONITOR, moduleName=Job Monitor, access=A)])), Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=0:0:0:0:0:0:0:1, SessionId=BE5357A0359540C2A69ABD663EBCAA94], Granted Authorities=[]]]
2025-09-10 18:55:54 [http-nio-8080-exec-9] DEBUG o.s.security.web.FilterChainProxy - Secured GET /study/findAllByPageable/?pageNumber=1&recordsPerPage=1&sortBy=studyName&sortOrder=1&searchBy=studyName&searchInput=abh
2025-09-10 18:55:54 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - GET "/fads/study/findAllByPageable/?pageNumber=1&recordsPerPage=1&sortBy=studyName&sortOrder=1&searchBy=studyName&searchInput=abh", parameters={masked}
2025-09-10 18:55:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.optum.fads.pgp.study.controller.StudyController#findAllByPageable(Integer, Integer, StudyEnum, Integer, List, List)
2025-09-10 18:55:54 [http-nio-8080-exec-9] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Opening JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-09-10 18:55:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Using @ExceptionHandler com.optum.fads.pgp.study.exception.StudyExceptionHandler#handleException(Exception, WebRequest)
2025-09-10 18:55:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Using 'application/problem+json', given [application/json] and supported [application/problem+json]
2025-09-10 18:55:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.HttpEntityMethodProcessor - Writing [ProblemDetail[type='about:blank', title='Bad Request', status=400, detail='Validation failure', inst (truncated)...]
2025-09-10 18:55:54 [http-nio-8080-exec-9] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [org.springframework.web.method.annotation.HandlerMethodValidationException: 400 BAD_REQUEST "Validation failure"]
2025-09-10 18:55:54 [http-nio-8080-exec-9] DEBUG o.s.o.j.s.OpenEntityManagerInViewInterceptor - Closing JPA EntityManager in OpenEntityManagerInViewInterceptor
2025-09-10 18:55:54 [http-nio-8080-exec-9] DEBUG o.s.web.servlet.DispatcherServlet - Completed 400 BAD_REQUEST
