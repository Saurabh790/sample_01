 at java.base/java.util.Optional.ifPresent(Optional.java:178)
        at org.mockito.junit.jupiter.MockitoExtension.afterEach(MockitoExtension.java:198)
        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[ERROR] com.optum.fads.pgp.reportsection.api.service.ReportItemDataServiceTest.getReportItemsList_noSearch_selectedNotEmpty_usesGetAvailableAndCountBySize -- Time elapsed: 0.114 s <<< ERROR!
org.mockito.exceptions.misusing.UnfinishedStubbingException:

Unfinished stubbing detected here:
-> at com.optum.fads.pgp.reportsection.api.service.ReportItemDataServiceTest.getReportItemsList_noSearch_selectedNotEmpty_usesGetAvailableAndCountBySize(ReportItemDataServiceTest.java:105)

E.g. thenReturn() may be missing.
Examples of correct stubbing:
    when(mock.isOk()).thenReturn(true);
    when(mock.isOk()).thenThrow(exception);
    doThrow(exception).when(mock).someVoidMethod();
Hints:
 1. missing thenReturn()
 2. you are trying to stub a final method, which is not supported
 3. you are stubbing the behaviour of another mock inside before 'thenReturn' instruction is completed

        at com.optum.fads.pgp.reportsection.api.domain.PrmRiRptItemT.getRiId(PrmRiRptItemT.java:77)
        at com.optum.fads.pgp.reportsection.api.service.ReportItemDataServiceTest.sampleRi(ReportItemDataServiceTest.java:256)
        at com.optum.fads.pgp.reportsection.api.service.ReportItemDataServiceTest.getReportItemsList_noSearch_selectedNotEmpty_usesGetAvailableAndCountBySize(ReportItemDataServiceTest.java:106)
        at java.base/java.lang.reflect.Method.invoke(Method.java:568)
        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)

[INFO]
[INFO] Results:
[INFO]
[ERROR] Errors:
[ERROR]   ReportItemDataServiceTest.getReportItemsList_noSearch_selectedEmpty_usesGetReportItemsAndCount » UnnecessaryStubbing
Unnecessary stubbings detected.
Clean & maintainable test code requires zero unnecessary code.
Following stubbings are unnecessary (click to navigate to relevant line of code):
  1. -> at com.optum.fads.pgp.reportsection.api.service.ReportItemDataServiceTest.sampleRi(ReportItemDataServiceTest.java:277)
Please remove unnecessary stubbings or use 'lenient' strictness. More info: javadoc for UnnecessaryStubbingException class.
[ERROR]   ReportItemDataServiceTest.getReportItemsList_noSearch_selectedNotEmpty_usesGetAvailableAndCountBySize:106->sampleRi:256 » UnfinishedStubbing
Unfinished stubbing detected here:
-> at com.optum.fads.pgp.reportsection.api.service.ReportItemDataServiceTest.getReportItemsList_noSearch_selectedNotEmpty_usesGetAvailableAndCountBySize(ReportItemDataServiceTest.java:105)

E.g. thenReturn() may be missing.
Examples of correct stubbing:
    when(mock.isOk()).thenReturn(true);
    when(mock.isOk()).thenThrow(exception);
    doThrow(exception).when(mock).someVoidMethod();
Hints:
 1. missing thenReturn()
 2. you are trying to stub a final method, which is not supported
 3. you are stubbing the behaviour of another mock inside before 'thenReturn' instruction is completed

[ERROR]   ReportItemDataServiceTest.getReportItemsOnSearchCriteria_selectedEmpty_noSpChar_callsGetReportItemsBySearchCrit:150->sampleRi:256 » UnfinishedStubbing
Unfinished stubbing detected here:
-> at com.optum.fads.pgp.reportsection.api.service.ReportItemDataServiceTest.getReportItemsOnSearchCriteria_selectedEmpty_noSpChar_callsGetReportItemsBySearchCrit(ReportItemDataServiceTest.java:149)

E.g. thenReturn() may be missing.
Examples of correct stubbing:
    when(mock.isOk()).thenReturn(true);
    when(mock.isOk()).thenThrow(exception);
    doThrow(exception).when(mock).someVoidMethod();
Hints:
 1. missing thenReturn()
 2. you are trying to stub a final method, which is not supported
 3. you are stubbing the behaviour of another mock inside before 'thenReturn' instruction is completed

[ERROR]   ReportItemDataServiceTest.getReportItemsOnSearchCriteria_selectedEmpty_spChar_callsEscMethod » UnnecessaryStubbing
Unnecessary stubbings detected.
Clean & maintainable test code requires zero unnecessary code.
Following stubbings are unnecessary (click to navigate to relevant line of code):
  1. -> at com.optum.fads.pgp.reportsection.api.service.ReportItemDataServiceTest.sampleRi(ReportItemDataServiceTest.java:277)
Please remove unnecessary stubbings or use 'lenient' strictness. More info: javadoc for UnnecessaryStubbingException class.
[INFO]
[ERROR] Tests run: 60, Failures: 0, Errors: 4, Skipped: 0
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  49.208 s
[INFO] Finished at: 2026-01-09T17:20:12+05:30
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.5.4:test (default-test) on project fads-pgp-reportsection-api:
[ERROR]
[ERROR] See C:\Users\sgupt664\BE_Projects\fads-pgp-reportsection-api\target\surefire-reports for the individual test results.
[ERROR] See dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException



above is failing and velow mthods are not able to exuecte due to proected method in actual class n give me complete this sevrice class covberage 
// ---------- replReportItemName ----------
//    @Test
//    void replReportItemName_noSpecialChars_wrapsWithPercent() {
//        assertEquals("%abc%", service.replReportItemName("abc"));
//    }
//
//    @Test
//    void replReportItemName_withPercent_escapesPercent() {
//        String out = service.replReportItemName("a%");
//        // becomes "%a\%%" (java string contains backslash)
//        assertTrue(out.startsWith("%"));
//        assertTrue(out.endsWith("%"));
//        assertTrue(out.contains("\\%"));
//    }
//
//    @Test
//    void replReportItemName_withUnderscore_escapesUnderscore() {
//        String out = service.replReportItemName("a_");
//        assertTrue(out.contains("\\_"));
//    }
