@Test
void sendAllReminderMails_whenNoReminders_doesNotSendMailOrSave() {
    when(caEmailsRepository.findTodaysReminders(CaseEntryConstants.REMINDER_EMAIL_TYPE))
            .thenReturn(Collections.emptyList());

    when(remindersUtil.getEmailSpecs()).thenReturn(new EmailSpecs());

    reminderEmailService.sendAllReminderMails();

    // getEmailSpecs() IS called even if list is empty
    verify(remindersUtil, times(1)).getEmailSpecs();

    // but these should not happen
    verify(remindersUtil, never()).sendMail(any(EmailSpecs.class));
    verify(caEmailsRepository, never()).save(any());
}
