protected String formatLocalDate(Date date) throws Exception {
	    logit.info("Total Report Section records after test formatLocalDate start 12 {}", date);
	    
	    if (date == null) return null;

	    try {
	        logit.info("Date class: {}", date.getClass().getName());

	        Instant instant;

	        if (date instanceof java.sql.Date) {
	            java.sql.Date sqlDate = (java.sql.Date) date;
	            instant = sqlDate.toLocalDate()
	                             .atStartOfDay(ZoneId.systemDefault())
	                             .toInstant();
	        } else {
	            instant = date.toInstant();
	        }

	        LocalDateTime ldt = LocalDateTime.ofInstant(instant, ZoneId.systemDefault());
	        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(ReportSectionConstants.DATE_FORMAT_MMDDYYYY_HHMM_A, Locale.ENGLISH);

	        String formatted = formatter.format(ldt);
	        logit.info("Formatted LocalDateTime: {}", formatted);
	        return formatted;

	    } catch (Exception e) {
	        logit.error("Exception while formatting date: {}", date, e); 
	        throw new Exception("Error formatting date: " + date, e); //
	    }
	}
