import java.time.*;
import java.time.format.*;

public class DateParser {

    private static final DateTimeFormatter STUDY_FMT =
        new DateTimeFormatterBuilder()
            .parseCaseInsensitive()
            .appendPattern("MM/dd/uuuu hh:mm[:ss] a") // seconds allowed but optional
            .toFormatter(Locale.US);

    public static LocalDateTime parseDateForStudy(String s) {
        try {
            // Parse with optional seconds, then normalize to 0 seconds
            return LocalDateTime.parse(s.trim(), STUDY_FMT)
                                .withSecond(0)
                                .withNano(0);
        } catch (DateTimeException e) {
            throw new IllegalArgumentException("Error parsing date: " + s, e);
        }
    }
}
